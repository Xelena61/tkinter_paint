<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Рисовалка</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #f0f0f0;
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            display: flex;
            flex-direction: column;
            aling-items: center;
        }

        .toolbar {
            margin-bottom: 10px;
        }

        canvas {
            border: 1px solid #666;
            background: #ffffff;
        }
    </style>
</head>
    <body>
        <div class="toolbar">
            <label>
                Цвет:
                <input type="color" id="colorPicker" value="#000000">
            </label>
            <label>
                Толщина:
                <input type="range" id="brushSize" min="1" max="40" value="4">
                <span id="brushSizeLabel">4 px</span>
            </label>

            <label>
                Инструменты:
                <select id="tool">
                    <option value="pensil">Карандаш</option>
                    <option value="marker">Маркер</option>
                    <option value="calligraphy">Каллиграфия</option>
                    <option value="spray">Аэрограф</option>
                    <option value="erase">Ластик</option>
                </select>
            </label>
            <button id="clear">Очистить</button>
            <button id="save">Сохранить PNG</button>
        </div>

        <canvas id="paint" width="400" height="200"></canvas>
       <script>
    // Находим холст и берём контекст для рисования
    const canvas = document.getElementById('paint');
    const ctx = canvas.getContext('2d');

    // Флаг "сейчас рисуем" и последние координаты
    let drawing = false;
    let lastX = 0;
    let lastY = 0;

    // Получаем координаты курсора относительно холста
    function getCanvasPos(e) {
        const rect = canvas.getBoundingClientRect();
        return {
            x: e.clientX - rect.left,
            y: e.clientY - rect.top
        };
    }

    // Нажали мышкой — начинаем рисовать
    function startDrawing(e) {
        drawing = true;
        const pos = getCanvasPos(e);
        lastX = pos.x;
        lastY = pos.y;

        // Настройки линии по умолчанию
        ctx.strokeStyle = "black";
        ctx.lineWidth = 4;
        ctx.lineCap = "round";
        ctx.lineJoin = "round";
    }

    // Отпустили кнопку / ушли с холста — перестаём рисовать
    function stopDrawing() {
        drawing = false;
    }

    // Двигаем мышь — рисуем линию
    function draw(e) {
        if (!drawing) return;

        const pos = getCanvasPos(e);

        ctx.beginPath();
        ctx.moveTo(lastX, lastY);
        ctx.lineTo(pos.x, pos.y);
        ctx.stroke();

        lastX = pos.x;
        lastY = pos.y;
    }

    // Слушатели событий мыши
    canvas.addEventListener("mousedown", startDrawing);
    canvas.addEventListener("mouseup", stopDrawing);
    canvas.addEventListener("mouseleave", stopDrawing);
    canvas.addEventListener("mousemove", draw);
</script>
    </body>
    </html>
